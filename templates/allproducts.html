{% extends 'base.html' %}

{% block main %}
    {% block rrr %}
 {% endblock %}
    {% load static %}
    <section class="vh-75" >
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-9">

        <h1 class="text-white mb-4" style="color: black">Filters</h1>

        <div class="card" style="border-radius: 15px;">
          <div class="card-body">
              <form method="get">
                   {% csrf_token %}
            <div class="row align-items-center pt-4 pb-3">
              <div class="col-md-3 ps-5">

                <h6 class="mb-0">Minimum Price</h6>

              </div>
              <div class="col-md-9 pe-5">

                {{ form.minprice }}

              </div>
            </div>

            <hr class="mx-n3">
               <div class="row align-items-center pt-4 pb-3">
              <div class="col-md-3 ps-5">

                <h6 class="mb-0">Maximum Price</h6>

              </div>
              <div class="col-md-9 pe-5">

                {{ form.maxprice }}

              </div>
            </div>

            <hr class="mx-n3">
               <div class="row align-items-center pt-4 pb-3">
              <div class="col-md-3 ps-5">

                <h6 class="mb-0">Sort by</h6>

              </div>
              <div class="col-md-9 pe-5">

                {{ form.Sortby }}

              </div>
            </div>
            <hr class="mx-n3">
            <div class="px-5 py-4 vh-50">
              <button type="submit" class="btn btn-primary btn-lg">Apply filters</button>
            </div>
              </form>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
    {% if all %}
    <div style="display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-gap: 30px 10px;
        grid-auto-flow: row;margin: 100px auto auto;width: 70%;justify-items: center;
  align-items: center;">
    {% for i in all %}
        <div class="card" style="height : 100%;width: 90%;border: 3px solid black">
        {% if i.image %}
            <a href="{% url 'currentp' i.id %}"><img class="card-img-top"  src="{{ i.image.url }}" alt="Card image cap"></a>
        {% endif %}

  <div class="card-body" >
      <a style="text-decoration: none" href="{% url 'currentp' i.id %}" class="card-title"><h4>{{ i.name }}</h4></a>
      <h5 class="card-text">{{ i.category }}</h5>
      <h4 style="margin-top:20px" class="card-text"><b>{{ i.price }} â‚¸</b></h4>
      {% if user.is_authenticated %}
               <a href="{% url 'addbasket' i.id %}" class="btn btn-primary">Add to basket</a>
      {% endif %}
  </div>
</div>
    {% endfor %}
    </div>
{% else %}
        <h1 style="margin:100px 0 0  500px">NO data found ((((</h1>
    {% endif %}
{% endblock %}

